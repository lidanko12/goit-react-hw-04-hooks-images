(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__5vl6E",Modal:"Modal_Modal__3ht3N"}},17:function(e,t,a){e.exports={ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__2tnp3"}},28:function(e,t,a){e.exports={App:"App_App__14Jrb","App-logo":"App_App-logo__3EcKy","App-logo-spin":"App_App-logo-spin__10NTa","App-header":"App_App-header__3mQU8","App-link":"App_App-link__1nHAo",Loader:"App_Loader__1sSxl"}},32:function(e,t,a){e.exports={Loader:"Loader_Loader__33fhY"}},33:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3KATA"}},34:function(e,t,a){e.exports={Button:"Button_Button__PuOZ6"}},41:function(e,t,a){},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__VuXW4",SearchForm:"Searchbar_SearchForm__3oxca",SearchForm__button:"Searchbar_SearchForm__button__32SCg",SearchForm_button__label:"Searchbar_SearchForm_button__label__P3d5V",SearchForm__input:"Searchbar_SearchForm__input__22mOG"}},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),c=a.n(o),s=(a(41),a(6)),i=a.n(s),l=a(18),u=a(13),p=a(4),b=a(7),m=(a(19),a(28)),h=a.n(m),d=a(29),_=a(30),j=a(36),f=a(35),g=a(15),O=a.n(g),v=a(1),S=document.querySelector("#modal-root"),x=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyPressESC=function(t){"Escape"===t.code&&e.props.onClose()},e.handleClickBackdrop=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPressESC)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPressESC)}},{key:"render",value:function(){return Object(o.createPortal)(Object(v.jsx)("div",{className:O.a.Overlay,onClick:this.handleClickBackdrop,children:Object(v.jsx)("div",{className:O.a.Modal,children:this.props.children})}),S)}}]),a}(n.PureComponent),y=x,I=a(8),k=a.n(I);function L(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(p.a)(a,2),o=r[0],c=r[1];return Object(v.jsx)("header",{className:k.a.Searchbar,children:Object(v.jsxs)("form",{className:k.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return b.c.error("Enter search");t(o),c("")},children:[Object(v.jsx)("button",{type:"submit",className:k.a.SearchForm__button,children:Object(v.jsx)("span",{className:k.a.SearchForm_button__label,children:"Search"})}),Object(v.jsx)("input",{onChange:function(e){c(e.target.value)},className:k.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var w=a(31),A=a.n(w),C=(a(64),a(32)),F=a.n(C),N=function(){return Object(v.jsx)("div",{className:F.a.Loader,children:Object(v.jsx)(A.a,{type:"TailSpin",color:"#c5000a",height:150,width:150,timeout:2e3})})},E=a(16),M=a.n(E);M.a.defaults.baseURL="https://pixabay.com/api";var U=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"22920296-83f622dc6fe28ab18a69af7db",n="/?image_type=photo&orientation=horizontal&\nq=".concat(t,"&page=").concat(a,"&per_page=15&key=").concat("22920296-83f622dc6fe28ab18a69af7db"),e.next=4,M.a.get(n);case 4:return r=e.sent,o=r.data,c=o.hits,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=U,P=a(17),R=a.n(P);var B=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.setModalImgInfo;return Object(v.jsx)("li",{className:R.a.ImageGalleryItem,children:Object(v.jsx)("img",{src:t,alt:n,onClick:function(){return r({largeImageURL:a,tags:n})},className:R.a.ImageGalleryItem__image})})},T=a(33),K=a.n(T);var D=function(e){var t=e.images,a=e.setModalImgInfo;return Object(v.jsx)("ul",{className:K.a.ImageGallery,children:t.map((function(e){var t=e.webformatURL,n=e.largeImageURL,r=e.tags,o=e.id;return Object(v.jsx)(B,{webformatURL:t,largeImageURL:n,tags:r,setModalImgInfo:a},o)}))})},J=a(34),q=a.n(J);var H=function(e){var t=e.onLoadMore;return Object(v.jsx)("button",{type:"button",className:q.a.Button,onClick:t,children:"Load more"})};function V(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(1),c=Object(p.a)(o,2),s=c[0],m=c[1],d=Object(n.useState)([]),_=Object(p.a)(d,2),j=_[0],f=_[1],g=Object(n.useState)("idle"),O=Object(p.a)(g,2),S=O[0],x=O[1],I=Object(n.useState)(null),k=Object(p.a)(I,2),w=k[0],A=k[1],C=Object(n.useState)(null),F=Object(p.a)(C,2),E=F[0],M=F[1],U=Object(n.useState)(!1),P=Object(p.a)(U,2),R=P[0],B=P[1],T=Object(n.useState)(null),K=Object(p.a)(T,2),J=(K[0],K[1]);Object(n.useEffect)((function(){a&&q()}),[a]);var q=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("pending"),e.prev=1,e.next=4,G(a,s);case 4:(t=e.sent).length<1&&b.c.error("Nothing found, specify your search"),f((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),x("resolved"),m((function(e){return e+1})),1!==s&&W(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Error:",e.t0.message),J({error:e.t0});case 16:return e.prev=16,x("resolved"),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}(),V=function(){B(!R)},W=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:h.a.App,children:[Object(v.jsx)(L,{onSubmit:function(e){e!==a&&(r(e),m(1),f([]))}}),"pending"===S&&Object(v.jsx)(N,{}),Object(v.jsx)(D,{images:j,setModalImgInfo:function(e){var t=e.largeImageURL,a=e.tags;A(t),M(a),V()}}),j.length>0&&Object(v.jsx)(H,{onLoadMore:function(){q()}}),R&&Object(v.jsx)(y,{onClose:V,children:Object(v.jsx)("img",{src:w,alt:E})})]}),Object(v.jsx)(b.a,{transition:b.b})]})}var W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(V,{})}),document.getElementById("root")),W()}},[[83,1,2]]]);
//# sourceMappingURL=main.05edb670.chunk.js.map